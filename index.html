<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>PDF阅读3</title>
   <!-- 引用 CDN 版本的 PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    // 配置工作线程（CDN 路径）
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
  </script>
  <style>
    /* 去除页面边距和滚动条 */
    body { margin: 0; padding: 0; overflow: hidden; }
    canvas { max-width: 100%; margin: 10px auto; display: block; }
    /* 可选：禁用右键菜单（防止右键下载） */
    body {
      -webkit-user-select: none; /* 禁止选中内容 */
      user-select: none;
    }
  </style>
</head>
<body>
  <div id="pdfContainer"></div>
   <script>
   <!-- 禁用右键菜单 -->
      document.addEventListener('contextmenu', e => e.preventDefault());
    // PDF 文件路径（必须与页面同域，如 GitHub Pages 中的相对路径）
    const pdfUrl = './UI作品集-胡雨清-5年.pdf';

    async function renderPdf() {
      try {
        const pdfDoc = await pdfjsLib.getDocument(pdfUrl).promise;
        const container = document.getElementById('pdfContainer');

        // 渲染所有页面
        for (let i = 1; i <= pdfDoc.numPages; i++) {
          const page = await pdfDoc.getPage(i);
          const viewport = page.getViewport({ scale: 1.2 });

          const canvas = document.createElement('canvas');
          container.appendChild(canvas);
          const ctx = canvas.getContext('2d');
          canvas.height = viewport.height;
          canvas.width = viewport.width;

          await page.render({ canvasContext: ctx, viewport }).promise;
        }
      } catch (error) {
        console.error('加载失败:', error);
        document.body.innerHTML = 'PDF 加载失败，请检查网络或文件路径';
      }
    }

    // 页面加载后执行
    window.onload = renderPdf;
  </script>
</body>
</html>
